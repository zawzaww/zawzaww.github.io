<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Merging Upstream Linux Kernel Patches For Android" /><meta name="author" content="Zaw Zaw" /><meta property="og:locale" content="en_US" /><meta name="description" content="ဒီတခါ Guide က ဘာအကြောင်းအရာလဲ ဆိုတော့ ကိုယ့်ရဲ့ Android Device အတွက် Build လိုက်တဲ့ Android Kernel မှာ Linux Kernel version တွေကို ဘယ်လို Update လုပ်မလဲ ဆိုတဲ့ အကြောင်းအရာပါ။ Linux Kernel release တဲ့ ပိုင်းမှာ (၄)မျိုး ကွဲပြားပါတယ် ( Prepatch, Mainline, Stable &amp; Long Term ) ဆိုပြီး ရှိပါတယ်။ အသေးစိတ်ကိုတော့ ဒီမှာ လေ့လာကြည့်ပါ https://www.kernel.org/category/releases.html ပထမ Android Kernel building tutorial မှာလည်း ကျွန်တော်ပြောခဲ့ပါတယ် Android မှာ သုံးတဲ့ Linux Kernel branch တွေက Long Term Support (LTS) branch တွေဖြစ်ပါတယ်။ Linux Kernel LTS branch တွေအများကြီး ရှိပါတယ်။ Android ဖုန်း အမျိုးအစားပေါ် မူတည်ပြီး သုံးတဲ့ Linux Kernel LTS branch တွေက မတူပါဘူး။ ဥပမာ အနေနဲ့ ပြောပြရရင် Nexus 5X မှာဆိုရင် linux-3.10.y ဆိုတဲ့ LTS branch ကိုသုံးပြီး၊ Google Pixel မှာဆိုရင် linux-3.18.y ဆိုတဲ့ LTS branch ကို သုံးပါတယ်။ Android က အဲဒီ သက်ဆိုင်ရာ LTS Linux kernel branch တွေကို အခြေခံပြီး အသုံးချပြီး သူရဲ့ Android Mobile Device အတွက် ကိုက်ညီမှုရှိအောင် Device driver ပြန်ပြင်ရေးပြီး ပြန် Modifed ခဲ့တဲ့သဘောပါပဲ။ ဒါကြောင့် ကိုယ့်ဖုန်းအတွက် Kernel source ယူရင် Android ဘက်က သက်ဆိုင်ရာ Mobile OEM’s Engineer တွေက ပေးတဲ့ Kernel source တွေယူရပြီး၊ Linux kernel version update တွေ လုပ်ချင်ရင် မူရင်း git.kernel.org ကနေ Git ကိုသုံးပြီး code တွေ merge ပြီး ကိုယ့်ဖုန်းအတွက် kernel version တွေ update လုပ်ပေးရမှာပါ။ အခု Guide မှာ Git ကိုသုံးပြီး git.kernel.org ကနေ ကိုယ့် Android ဖုန်းအတွက် Linux Kernel version (Code) တွေကို ဘယ်လို Merge လုပ်မလဲ ဆိုတာ ဆက်ရေးပါမယ်။" /><meta property="og:description" content="ဒီတခါ Guide က ဘာအကြောင်းအရာလဲ ဆိုတော့ ကိုယ့်ရဲ့ Android Device အတွက် Build လိုက်တဲ့ Android Kernel မှာ Linux Kernel version တွေကို ဘယ်လို Update လုပ်မလဲ ဆိုတဲ့ အကြောင်းအရာပါ။ Linux Kernel release တဲ့ ပိုင်းမှာ (၄)မျိုး ကွဲပြားပါတယ် ( Prepatch, Mainline, Stable &amp; Long Term ) ဆိုပြီး ရှိပါတယ်။ အသေးစိတ်ကိုတော့ ဒီမှာ လေ့လာကြည့်ပါ https://www.kernel.org/category/releases.html ပထမ Android Kernel building tutorial မှာလည်း ကျွန်တော်ပြောခဲ့ပါတယ် Android မှာ သုံးတဲ့ Linux Kernel branch တွေက Long Term Support (LTS) branch တွေဖြစ်ပါတယ်။ Linux Kernel LTS branch တွေအများကြီး ရှိပါတယ်။ Android ဖုန်း အမျိုးအစားပေါ် မူတည်ပြီး သုံးတဲ့ Linux Kernel LTS branch တွေက မတူပါဘူး။ ဥပမာ အနေနဲ့ ပြောပြရရင် Nexus 5X မှာဆိုရင် linux-3.10.y ဆိုတဲ့ LTS branch ကိုသုံးပြီး၊ Google Pixel မှာဆိုရင် linux-3.18.y ဆိုတဲ့ LTS branch ကို သုံးပါတယ်။ Android က အဲဒီ သက်ဆိုင်ရာ LTS Linux kernel branch တွေကို အခြေခံပြီး အသုံးချပြီး သူရဲ့ Android Mobile Device အတွက် ကိုက်ညီမှုရှိအောင် Device driver ပြန်ပြင်ရေးပြီး ပြန် Modifed ခဲ့တဲ့သဘောပါပဲ။ ဒါကြောင့် ကိုယ့်ဖုန်းအတွက် Kernel source ယူရင် Android ဘက်က သက်ဆိုင်ရာ Mobile OEM’s Engineer တွေက ပေးတဲ့ Kernel source တွေယူရပြီး၊ Linux kernel version update တွေ လုပ်ချင်ရင် မူရင်း git.kernel.org ကနေ Git ကိုသုံးပြီး code တွေ merge ပြီး ကိုယ့်ဖုန်းအတွက် kernel version တွေ update လုပ်ပေးရမှာပါ။ အခု Guide မှာ Git ကိုသုံးပြီး git.kernel.org ကနေ ကိုယ့် Android ဖုန်းအတွက် Linux Kernel version (Code) တွေကို ဘယ်လို Merge လုပ်မလဲ ဆိုတာ ဆက်ရေးပါမယ်။" /><link rel="canonical" href="https://zawzaw.blog/posts/merge-linux-kernel-patches/" /><meta property="og:url" content="https://zawzaw.blog/posts/merge-linux-kernel-patches/" /><meta property="og:site_name" content="Zaw Zaw" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-03-17T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Merging Upstream Linux Kernel Patches For Android" /><meta name="twitter:site" content="@zawzaw_me" /><meta name="twitter:creator" content="@Zaw Zaw" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Zaw Zaw"},"dateModified":"2024-05-28T10:59:46+00:00","datePublished":"2018-03-17T00:00:00+00:00","description":"ဒီတခါ Guide က ဘာအကြောင်းအရာလဲ ဆိုတော့ ကိုယ့်ရဲ့ Android Device အတွက် Build လိုက်တဲ့ Android Kernel မှာ Linux Kernel version တွေကို ဘယ်လို Update လုပ်မလဲ ဆိုတဲ့ အကြောင်းအရာပါ။ Linux Kernel release တဲ့ ပိုင်းမှာ (၄)မျိုး ကွဲပြားပါတယ် ( Prepatch, Mainline, Stable &amp; Long Term ) ဆိုပြီး ရှိပါတယ်။ အသေးစိတ်ကိုတော့ ဒီမှာ လေ့လာကြည့်ပါ https://www.kernel.org/category/releases.html ပထမ Android Kernel building tutorial မှာလည်း ကျွန်တော်ပြောခဲ့ပါတယ် Android မှာ သုံးတဲ့ Linux Kernel branch တွေက Long Term Support (LTS) branch တွေဖြစ်ပါတယ်။ Linux Kernel LTS branch တွေအများကြီး ရှိပါတယ်။ Android ဖုန်း အမျိုးအစားပေါ် မူတည်ပြီး သုံးတဲ့ Linux Kernel LTS branch တွေက မတူပါဘူး။ ဥပမာ အနေနဲ့ ပြောပြရရင် Nexus 5X မှာဆိုရင် linux-3.10.y ဆိုတဲ့ LTS branch ကိုသုံးပြီး၊ Google Pixel မှာဆိုရင် linux-3.18.y ဆိုတဲ့ LTS branch ကို သုံးပါတယ်။ Android က အဲဒီ သက်ဆိုင်ရာ LTS Linux kernel branch တွေကို အခြေခံပြီး အသုံးချပြီး သူရဲ့ Android Mobile Device အတွက် ကိုက်ညီမှုရှိအောင် Device driver ပြန်ပြင်ရေးပြီး ပြန် Modifed ခဲ့တဲ့သဘောပါပဲ။ ဒါကြောင့် ကိုယ့်ဖုန်းအတွက် Kernel source ယူရင် Android ဘက်က သက်ဆိုင်ရာ Mobile OEM’s Engineer တွေက ပေးတဲ့ Kernel source တွေယူရပြီး၊ Linux kernel version update တွေ လုပ်ချင်ရင် မူရင်း git.kernel.org ကနေ Git ကိုသုံးပြီး code တွေ merge ပြီး ကိုယ့်ဖုန်းအတွက် kernel version တွေ update လုပ်ပေးရမှာပါ။ အခု Guide မှာ Git ကိုသုံးပြီး git.kernel.org ကနေ ကိုယ့် Android ဖုန်းအတွက် Linux Kernel version (Code) တွေကို ဘယ်လို Merge လုပ်မလဲ ဆိုတာ ဆက်ရေးပါမယ်။","headline":"Merging Upstream Linux Kernel Patches For Android","mainEntityOfPage":{"@type":"WebPage","@id":"https://zawzaw.blog/posts/merge-linux-kernel-patches/"},"url":"https://zawzaw.blog/posts/merge-linux-kernel-patches/"}</script><title> Merging Upstream Linux Kernel Patches For Android | Zaw Zaw</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/images/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/images/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Zaw Zaw"><meta name="application-name" content="Zaw Zaw"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/images/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/images/favicons/favicon-16x16.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Zaw Zaw</a></div><div class="site-subtitle font-italic">ZAW's Library & Personal Blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/photography/" class="nav-link"> <i class="fa-fw fas fa-image ml-xl-3 mr-xl-3 unloaded"></i> <span>PHOTOGRAPHY</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fas fa-phone ml-xl-3 mr-xl-3 unloaded"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT ME</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/zawzaww" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://x.com/zawzaw_me" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-x-twitter"></i> </a> <a href="https://www.linkedin.com/in/zawzaww" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://www.instagram.com/zawzaw.me" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['zawzthein','outlook.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Merging Upstream Linux Kernel Patches For Android</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Merging Upstream Linux Kernel Patches For Android</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Merging Upstream Linux Kernel Patches For Android</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Zaw Zaw </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Mar 17, 2018, 12:00 AM +0000" prep="on" > Mar 17, 2018 <i class="unloaded">2018-03-17T00:00:00+00:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Tue, May 28, 2024, 6:59 PM +0800" prefix="Updated " > May 28, 2024 <i class="unloaded">2024-05-28T10:59:46+00:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="854 words">4 min</span></div></div><div class="post-content"> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/images/featured-images/img_merge_linux_kernel_patches.jpeg" class="preview-img" alt="Preview Image"><p align="center"> <span class="caption" style="font-size: 14px; font-weight: 500; font-style: oblique;"> </span></p><p>ဒီတခါ Guide က ဘာအကြောင်းအရာလဲ ဆိုတော့ ကိုယ့်ရဲ့ Android Device အတွက် Build လိုက်တဲ့ Android Kernel မှာ Linux Kernel version တွေကို ဘယ်လို Update လုပ်မလဲ ဆိုတဲ့ အကြောင်းအရာပါ။ Linux Kernel release တဲ့ ပိုင်းမှာ (၄)မျိုး ကွဲပြားပါတယ် ( Prepatch, Mainline, Stable &amp; Long Term ) ဆိုပြီး ရှိပါတယ်။ အသေးစိတ်ကိုတော့ ဒီမှာ လေ့လာကြည့်ပါ https://www.kernel.org/category/releases.html ပထမ Android Kernel building tutorial မှာလည်း ကျွန်တော်ပြောခဲ့ပါတယ် Android မှာ သုံးတဲ့ Linux Kernel branch တွေက Long Term Support (LTS) branch တွေဖြစ်ပါတယ်။ Linux Kernel LTS branch တွေအများကြီး ရှိပါတယ်။ Android ဖုန်း အမျိုးအစားပေါ် မူတည်ပြီး သုံးတဲ့ Linux Kernel LTS branch တွေက မတူပါဘူး။ ဥပမာ အနေနဲ့ ပြောပြရရင် Nexus 5X မှာဆိုရင် linux-3.10.y ဆိုတဲ့ LTS branch ကိုသုံးပြီး၊ Google Pixel မှာဆိုရင် linux-3.18.y ဆိုတဲ့ LTS branch ကို သုံးပါတယ်။ Android က အဲဒီ သက်ဆိုင်ရာ LTS Linux kernel branch တွေကို အခြေခံပြီး အသုံးချပြီး သူရဲ့ Android Mobile Device အတွက် ကိုက်ညီမှုရှိအောင် Device driver ပြန်ပြင်ရေးပြီး ပြန် Modifed ခဲ့တဲ့သဘောပါပဲ။ ဒါကြောင့် ကိုယ့်ဖုန်းအတွက် Kernel source ယူရင် Android ဘက်က သက်ဆိုင်ရာ Mobile OEM’s Engineer တွေက ပေးတဲ့ Kernel source တွေယူရပြီး၊ Linux kernel version update တွေ လုပ်ချင်ရင် မူရင်း git.kernel.org ကနေ Git ကိုသုံးပြီး code တွေ merge ပြီး ကိုယ့်ဖုန်းအတွက် kernel version တွေ update လုပ်ပေးရမှာပါ။ အခု Guide မှာ Git ကိုသုံးပြီး git.kernel.org ကနေ ကိုယ့် Android ဖုန်းအတွက် Linux Kernel version (Code) တွေကို ဘယ်လို Merge လုပ်မလဲ ဆိုတာ ဆက်ရေးပါမယ်။</p><h2 id="requirements">Requirements</h2><ul><li>GNU/Linux based Operating System(OS)<li>Git: Version Control System<li>C Programming Language</ul><h2 id="how-to-merge-linux-kernel-patches">How To Merge Linux Kernel Patches</h2><ul><li>ဘယ်လို Linux Kernel version ကို Update လုပ်မလဲ ဆိုတဲ့ နေရာမှာ နှစ်မျိုးရှိပါတယ်၊ [git merge] ကိုသုံးပြီး code တွေ merge တဲ့နည်းရယ်၊ [git cherry-pick] ကိုသုံးပြီး code တွေ merge တဲ့ နည်းရယ် ဆိုပြီး ရှိပါတယ်။<li>အကြံပေးချင်ပါတယ် ခုမှ git နဲ့ စထိတွေ့မယ့်သူဆို git cherry-pick နည်းပဲ သုံးပါလို့ အကြံပေးချင်ပါတယ်၊ မဟုတ်ရင် tag တွေသုံးပြီး git merge ကိုသုံးရင် conflicts တွေ ထောင်သောင်းချီသွားပါလိမ့်မယ်။<li>ပထမဦးဆုံး အနေနဲ့ ကိုယ့် Computer ထဲမှာ git install ထားဖို့လိုပါတယ်။</ul><h2 id="method-1--git-merge">Method (1) : Git merge</h2><ul><li><p>ပထမဦးဆုံး အနေနဲ့ linux kernel branch တွေရှိတဲ့ နေရာ သိရပါမယ် Link…https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/ <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s20.postimg.cc/9ormx6trx/Screenshot_from_2018-03-08_10-17-42.png" /></p><li>နောက်တခုက ကိုယ့်ဖုန်းအတွက် Kernel source က ဘယ် linux kernel branch ကို သုံးလဲ ဆိုတာ သိရပါမယ်၊ ဥပမာ kernel-source/Makefile ကို ဖွင့်ကြည့်လိုက်ပါ၊ Nexus 5X မှဆို 3.10.73 ဆိုပြီး တွေ့ရပါမယ်။<li>Format</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>VERSION <span class="o">=</span> 3
PATCHLEVEL <span class="o">=</span> 10
SUBLEVEL <span class="o">=</span> 73
EXTRAVERSION <span class="o">=</span>
NAME <span class="o">=</span> TOSSUG Baby Fish
</pre></table></code></div></div><ul><li>အပေါ်က format ကို ကြည့်ရင် 3 10 ဆိုတာ linux kernel branch မှာဆိုရင် linux-3.10.y ကို ဆိုလိုခြင်း ဖြစ်ပါတယ်။<li>အခု git command တွေသုံးပြီး code တွေ merge ပါမယ်။<li>အရင် ကိုယ့်ဖုန်းအတွက် download ထားတဲ့ Kernel source folder ထဲဝင်ပြီး Right Click ပြီး Terminal ကို ဖွင့်လိုက်ပြီး အောက်က command လေး ရိုက်လိုက်ပါ။ (Nexus 5X အတွက်ဖြစ်လို့ branch name က linux-3.10.y ပါ)<li>Format ( git merge မလုပ်ခင် git fetch အရင် လုပ်ပေးရပါမယ် )</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git fetch <span class="nt">--tags</span> &lt;repo_url&gt; &lt;branch_name&gt;
</pre></table></code></div></div><ul><li>Example: for Nexus 5X</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git fetch <span class="nt">--tags</span> https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/ linux-3.10.y
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s20.postimg.cc/ijsh7pqa5/Screenshot_from_2018-03-08_10-18-14.png" /></p><ul><li>git fetch လုပ်တာက Internet connection ပေါ် မူတည်ပြီး ကြာပါမယ်၊ ပြီးသွားရင် tags အလိုက်တွေ Terminal မှာ စီပြီးပြပေးပါလိမ့်မယ်။<li>git merge ပါတော့မယ်။ (ဒီနေရာက အရေးကြီးပါတယ် ခုလက်ရှိ ကိုယ့် Kernel source ထဲက Makefile မှာ တချက်လောက် ကြည့်လိုက်ပါ kernel version ကို 3.10.73 ဆိုရင် နောက် git mergeရင် .74 ကို တဆင့်ချင်း merge ပါ၊ မဟုတ်ဘူးဆိုရင် Latest .108 ကို တန်းပြီး mergeရင် merge conflicts တွေများသွားပါလိမ့်မယ်)<li>Format</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge &lt;tag_name&gt;
</pre></table></code></div></div><ul><li>Example for Nexus 5X</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge v3.10.74
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge v3.10.75
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge v3.10.76
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge v3.10.77
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge v3.10.78
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge v3.10.79
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge v3.10.80
</pre></table></code></div></div><ul><li>Continue…<li>git merge တာကို Linux version တဆင့်ချင်းစီ Merge ပေးပါ v3.10.74, 75, 76, 78, 79, 80, 81 ကနေ ဆက်ပြီးတောာ့ လက်ရှိ 3.10.y branch ရဲ့ နောက်ဆုံး version ဖြစ်တဲ့ 108 ထိ Merge ပေးပါ (73 ကနေ 108 တန်းပြီး Merge မလုပ်ပါနဲ့ တဆင့်ချင်းစီ Merge တာက နည်းလမ်းအမှန်ပါပဲ)</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge v3.10.108
</pre></table></code></div></div><h2 id="method2--git-cherry-pick">Method(2) : Git cherry-pick</h2><ul><li>git cherry-pick တဲ့နေရာမှာ အမှန်က နှစ်မျိုးရှိပါတယ်၊ tag အလိုက် cherry-pick တာရယ် commit အလိုက် cherry- pick တာရယ် ဆိုပြီး ရှိပါတယ်၊ မပြောတော့ပါဘူး လွယ်လွယ်နဲ့ မြန်မြန်လုပ်လို့ရမယ့် commit အလိုက် cherry-pick တာပဲ ပြောပါမယ်။<li>ပထမဆုံး git fetch အရင်လုပ်ပေးရပါမယ်။<li>Format</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git fetch &lt;repo_url&gt; &lt;branch_name&gt;
</pre></table></code></div></div><ul><li>Example: for Nexus 5X</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git fetch https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/ linux-3.10.y
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s20.postimg.cc/ijsh7pqa5/Screenshot_from_2018-03-08_10-18-14.png" /></p><ul><li><p>ပြီးသွားရင် ကိုယ် Update ချင်တဲ့ Linux kernel version Page ထိ သွားရပါမယ်၊ ဥပမာ Nexus 5X အတွက် Linux v3.10.73 ကနေ v3.10.74 ကို update ချင်ရင် https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/log/?h=linux-3.10.y သွားပါ၊ အဲဒီမှာ v3.10.74 ဆိုတဲ့ Yellow color tag နဲ့ Page ထိ သွားပါ၊ အဲဒီ အပေါ်ဆုံးက Linux 3.10.74 commit က အခုလက်ရှိ kernel version(3.10.74) ရဲ့ last commit ပါ၊ ပြီးရင်အောက်ထိ ဆင်းပါ၊ အဝါရောင်လေးနဲ့ ရေးထားတဲ့ tag လေး v3.10.73 ထိ သွားပြီး၊ အဲဒီအပါ် commit တကြောင်းက Linux kernel version(3.10.74) ရဲ first commit ပါ။ (ဒီနေရာမှာက ပြောချင်တာက first commit နဲ့ last commit အကြောင်းပါ) <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s20.postimg.cc/f06jhxxv1/Screenshot_from_2018-03-08_10-20-32.png" /></p><li>First commit နဲ့ Last commit အကြောင်း အပေါ်မှာ ရှင်းပြထားပါတယ်၊ အဲဒါ git cherry-pick တဲ့ နေရာမှာ ပြန်သုံးရမှာပါ၊ အဲဒါကြောင့် ရှင်းပြတာပါ။<li>အပေါ်မှာ git fetch သွားတာ ပြီးသွားရင် ဒီ command လေး ရိုက်လိုက်ပါ<li>Format (သဘောက Linux 3.0.74 အတွက် commit ထားတဲ့ code အတွေအကုန် ကိုယ့် Repo ထဲ merge လုပ်သွားပါလိမ့်မယ်)</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git cherry-pick &lt;first_commit&gt;^..&lt;last_commit&gt;
</pre></table></code></div></div><ul><li>Example: (အဲဒါတွေက <commit_hash> တွေပါ copy ပြီး paste လိုက်တာပါ)</commit_hash><li>First commit of v3.10.74… <a href="https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?h=v3.10.74&amp;id=70bd96c4dfffc1e34a7e9225220405e0adb93d69">70bd96c4dfffc1e34a7e9225220405e0adb93d69</a><li>Last commit of v3.10.74… <a href="https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/?h=v3.10.74&amp;id=c9ef473a544f0c10e631c25e631f31f9dc0eaed7"> c9ef473a544f0c10e631c25e631f31f9dc0eaed7</a></ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git cherry-pick 70bd96c4dfffc1e34a7e9225220405e0adb93d69^..c9ef473a544f0c10e631c25e631f31f9dc0eaed7
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s20.postimg.cc/c63e4h0tp/Screenshot_from_2018-03-08_10-20-01.png" /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s20.postimg.cc/msx79woel/Screenshot_from_2018-03-08_10-20-17.png" /></p><p>(OR)</p><ul><li>ဒါက commit တခုချင်းစီ git cherry-pick တဲ့ နည်းပါ<li>Format</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git cherry-pick &lt;commit_hash&gt;
</pre></table></code></div></div><p>Example: (v3.10.74 first commit ကနေ last commit ထဲ တခုချင်းစီ merge တဲ့နည်းပါ၊ စိတ်ရှည်ဖို့တော့ လိုပါတယ် commit တွေက များကြီးပါပဲ)</p><ul><li>အဲဒီနည်းနဲ့ Linux Kernel version တခုချင်းစီအတွက် တဆင့်ချင်း v3.10.74, 75, 76, 77, 78…ကနေ လက်ရှိ Latest ဖြစ်တဲ့ 108 ထိ Merge ပေးရမှာဖြစ်ပါတယ်။ Linux Kernel Patchs တွေကို version ကျော်ပြီး Merge လို့မရပါဘူး၊ v3.10.73 ကနေ 74 ပြီးရင် 75 ပြီးရင် 76 တခုချင်းစီ သေချာ Merge ပေးရပါတယ်။ ဘာလို့လဲဆိုတော့ Version တခုတိုင်း တခုတိုင်းအတွက် Bugs Fix &amp; Linux Kernel Security Flaw Fixed Code တွေ Patchs တွေက အများကြီးပါ အရေးကြီးပါတယ်။ တဆင့်ချင်းစီ Merge မှသာ ကိုယ့်ရဲ့ Kernel က ပြီးပြည့်စုံတဲ့ Linux Kernel patchs တွေ ရရှိမှာ ဖြစ်ပါတယ်။ (အဲဒါမှသာ စနစ်တကျဖြစ်တဲ့ မှန်ကန်တဲ့နည်းလမ်းဖြစ်ပါလိမ့်မယ်)</ul><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre> git cherry-pick 70bd96c4dfffc1e34a7e9225220405e0adb93d69
 git cherry-pick 574947bf3ce72410455e76d11ac57c3da69d36d8
 git cherry-pick 1290b015b701b4c772251e63da5866974e5ccb77
 Continue... latest commit of Linux v3.10.74
</pre></table></code></div></div><ul><li>အဲဒါတွေ ပြီးသွားရင် Merge တဲ့ လုပ်ငန်းတော့ ပြီးသွားပြီ။<li>အဲဒီနောက် ပထမက Kernel-Building Tutorial အတိုင်း ပြန် Compile လိုက်ပါ။<li>တကယ်လို့ Merge conflicts တွေ ဖြစ်ခဲ့ရင် Terminal ကနေ code error တွေ line no. အတိအကျပြောပေးပါလိမ့်မယ်။ C Programmig Language ကို ရရင် ဖြေရှင်းနိုင်ပါ လိမ့်မယ်။</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/kernel/" class="post-tag no-text-decoration" >kernel</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Merging Upstream Linux Kernel Patches For Android - Zaw Zaw&url=https://zawzaw.blog/posts/merge-linux-kernel-patches/" data-toggle="tooltip" data-placement="top" title="X (Twitter)" target="_blank" rel="noopener" aria-label="X (Twitter)"> <i class="fa-fw fab fa-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Merging Upstream Linux Kernel Patches For Android - Zaw Zaw&u=https://zawzaw.blog/posts/merge-linux-kernel-patches/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://zawzaw.blog/posts/merge-linux-kernel-patches/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2" style="font-size: large;">Table of Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Related Posts</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/build-android-kernel/"><div class="card-body"> <span class="timeago small" > Mar 9, 2018 <i class="unloaded">2018-03-09T00:00:00+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Building Kernel For Android Devices</h3><div class="text-muted small"><p> Android Devices အတွက် Kernel Source ကနေ Kernel တခု ဘယ်လို Build မလဲဆိုတဲ့ အကြောင်းအရာကို ဒီ How-To article မှာ အဓိက ပြောသွားမှာဖြစ်ပါတယ်။ Android OS က Linux Kernel ကို Based ထားပြီး Android ရဲ့ Ker...</p></div></div></a></div><div class="card"> <a href="/posts/create-kernel-flashablezip/"><div class="card-body"> <span class="timeago small" > May 4, 2018 <i class="unloaded">2018-05-04T00:00:00+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Creating Kernel FlashableZip For Android</h3><div class="text-muted small"><p> အခု Guide က ပထမက ရေးခဲ့တဲ့ How To Build Android Kernel Guide ရဲ့ အဆက်ဖြစ်ပါတယ်။ အဲဒီ ပထမပိုင်းကို ဖက်ပြီးမှ ပိုအဆင်ပြေပါလိမ့်မယ်။ Kernel Source ကနေ Compile ပြီးလို့ kernel img တွေ ထွက်လာပြီဆိုရင် က...</p></div></div></a></div><div class="card"> <a href="/posts/compile-linux-clang-llvm/"><div class="card-body"> <span class="timeago small" > Jun 27, 2020 <i class="unloaded">2020-06-27T00:00:00+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Building Linux Kernel with Clang/LLVM</h3><div class="text-muted small"><p> GCC is the Traditional Default C Compiler used in the Linux kernel back then and now. Now you can easily compile the Linux kernel with Clang/LLVM , a modern C-family compiler. Nick Desaulniers , a ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/build-android-kernel/" class="btn btn-outline-primary" prompt="Older"><p>Building Kernel For Android Devices</p></a> <a href="/posts/create-kernel-flashablezip/" class="btn btn-outline-primary" prompt="Newer"><p>Creating Kernel FlashableZip For Android</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2025, <a href="https://github.com/zawzaww">Zaw Zaw</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) by the author.">Licensed under CC BY 4.0.</span></p></div><div class="footer-right"><p class="mb-0"> <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">CHIRPY Theme</a> &mdash; <a href="https://jekyllrb.com" target="_blank" rel="noopener"> Powered byJekyll</a></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/kernel/">kernel</a> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/aosp/">aosp</a> <a class="post-tag" href="/tags/build/">build</a> <a class="post-tag" href="/tags/containerization/">containerization</a> <a class="post-tag" href="/tags/containers/">containers</a> <a class="post-tag" href="/tags/networking/">networking</a> <a class="post-tag" href="/tags/asia/">asia</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://zawzaw.blog{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
