<!DOCTYPE html>
<html lang="en">

  <head>
    <!-- Non social metatags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="theme-color" content="#FFFFFF">

    

    <title>Building Custom Pure Android OS</title>

    
      <!-- Update your html tag to include the itemscope and itemtype attributes. -->
<html itemscope itemtype="http://schema.org/Article">












<!-- Place this data between the <head> tags of your website -->

  <meta name="author" content="Zaw Zaw">

<meta name="description" content="ဒီတခါေတာ့ အေၾကာင္းအရာကေတာ့ AOSP (Android Open Source Project) SourceCode ကေန ကုိယ့္ရဲ႕ Android Device အတြက္ Pure Android OS တခု ဘယ္လုိ Build မလဲဆုိတဲ..." />





<!-- Schema.org markup for Google+ -->
<meta itemprop="name" content="Building Custom Pure Android OS">
<meta itemprop="description" content="ဒီတခါေတာ့ အေၾကာင္းအရာကေတာ့ AOSP (Android Open Source Project) SourceCode ကေန ကုိယ့္ရဲ႕ Android Device အတြက္ Pure Android OS တခု ဘယ္လုိ Build မလဲဆုိတဲ...">

  <meta itemprop="image" content="http://localhost:4000">


<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">



<meta name="twitter:title" content="Building Custom Pure Android OS">
<meta name="twitter:description" content="ဒီတခါေတာ့ အေၾကာင္းအရာကေတာ့ AOSP (Android Open Source Project) SourceCode ကေန ကုိယ့္ရဲ႕ Android Device အတြက္ Pure Android OS တခု ဘယ္လုိ Build မလဲဆုိတဲ...">



<!-- Twitter summary card with large image must be at least 280x150px -->

  <meta name="twitter:image:src" content="http://localhost:4000">
  <meta property="twitter:image" content="http://localhost:4000">

<meta property="twitter:url" content="http://localhost:4000/blog/how-to/building-pure-android">

<!-- Open Graph data -->
<meta property="og:title" content="Building Custom Pure Android OS" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:4000/blog/how-to/building-pure-android" />

  <meta property="og:image" content="http://localhost:4000" />

<meta property="og:description" content="ဒီတခါေတာ့ အေၾကာင္းအရာကေတာ့ AOSP (Android Open Source Project) SourceCode ကေန ကုိယ့္ရဲ႕ Android Device အတြက္ Pure Android OS တခု ဘယ္လုိ Build မလဲဆုိတဲ..." />
<meta property="og:site_name" content="Zaw Zaw" />

  <meta property="article:published_time" content="2018-07-14T00:00:00+06:30" />














  





  
    <meta property="article:tag" content="how-to">
  




    

    <link rel="canonical" href="http://localhost:4000/blog/how-to/building-pure-android">

    

    <link rel="icon" type="image/png" href="https://s20.postimg.cc/lie7on02l/purez.png">
    <meta name="robots" content="noarchive">

    <!-- <link rel="alternate" media="only screen and (max-width: 640px)" href="">
    <link rel="alternate" media="handheld" href=""> -->


    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=">
  </head>

  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    

    
      <a class="site-title" href="/">Zaw Zaw</a>
    

    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <a class="page-link" href="https://zawzaww.github.io/about">ABOUT ME</a>
          <a class="page-link" href="https://zawzaww.github.io/blog">BLOG</a>
          <a class="page-link" href="https://zawzaww.github.io/photography">PHOTOGRAPHY</a>
          <a class="page-link" href="https://zawzaww.github.io/projects">PROJECTS</a>
          <a class="page-link" href="https://zawzaww.github.io/contact">CONTACT</a>
        </div>
      </nav>
    
  </div>
</header>


    
    
    

    <section class="page-header">
      <h1 class="project-name">Building Custom Pure Android OS</h1>
      <h2 class="project-tagline"></h2>
      
      <!-- Post tagline -->
      
        <h2 class="project-date">
        <time datetime="2018-07-14T00:00:00+06:30" itemprop="datePublished">
          
          Jul 14, 2018
        </time>
        
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Zaw Zaw</span></span>
        
        </h2>
      
      <!-- End: Post tagline -->
    </section>

    <section class="main-content">

      <article itemscope itemtype="http://schema.org/BlogPosting">

  <div itemprop="articleBody">
    <p>ဒီတခါေတာ့ အေၾကာင္းအရာကေတာ့ AOSP (Android Open Source Project) SourceCode ကေန ကုိယ့္ရဲ႕ Android Device အတြက္ Pure Android OS တခု ဘယ္လုိ Build မလဲဆုိတဲ့ အေၾကာင္းအရာပါ။ အခုနည္းကုိ သိသြားၿပီဆုိရင္ တျခားေသာ AOSP based ROM ေတြေရာ LineageOS based ROM ေတြေရာ build တတ္သြားပါလိမ့္မယ္၊ တခုပဲကြဲျပားသြားတာပါ Android SourceCode ယူရတဲ့ ေနရာပဲကြဲသြားတာပါ။ တခုေတာ့ သတိေပးထားပါရေစ Android ရဲ႕ SourceCode ေတြရဲ႕ filesize က 20GB နဲ႔ အထက္မွာ ႐ွိပါတယ္။ အဲဒါေၾကာင့္ Internet ေကာင္းမွပဲ အဆင္ေျပပါလိမ့္မယ္။ Build တဲ့ ေနရာမွာ Linux မွာေရာ Mac မွာေရာ build လုိ႔ရပါတယ္ ကြၽန္ေတာ္ကေတာ့ Linux နဲ႔ပဲ target ထားၿပီးေျပာသြားမွာျဖစ္ၿပီး၊ ခုေလာေလာဆယ္ေတာ့ ubuntu 17.04 ပဲ သုံးျဖစ္ပါတယ္၊ အဲဒါေၾကာင့္ ubuntu ေပၚမွာ build တာပဲ ဥပမာေပး ေျပာသြားမွာပါ၊ Build မယ့္ target Android Device က Nexus 5X နဲ႔ ဥပမာေပးၿပီး ေျပာျပသြားမွာ ျဖစ္ပါတယ္။</p>

<h1 id="requirements">Requirements</h1>
<ul>
  <li>Linux Computer</li>
  <li>OpenJDK Install ထားရပါမယ္</li>
  <li>Python 2.7+ Install ထားရပါမယ္ ( ဘာလုိ႔လဲဆုိေတာ့ Google ရဲ့ git-repo က Python နဲ႔ေရးထားတာပါ၊ အဲဒါေၾကာင့္ Python Install လုပ္မထားရင္ git-repo က အလုပ္မလုပ္ပါဘူး )</li>
  <li>Git အသုံးျပဳတတ္ရပါမယ္</li>
  <li>Google ရဲ႕ git-repo လည္း သုံးတတ္ရပါမယ္။</li>
</ul>

<h1 id="about-googles-git-repo">About Google’s git-repo</h1>
<p>Google ကေန Android အတြက္ အဓိကဦးတည္ၿပီး လုပ္ထားတဲ့ git-repo (Repo) အေၾကာင္းေျပာျပခ်င္ပါတယ္။ မ်ားေသာအားျဖင့္ Repo လု႔ိ လူသိမ်ားပါတယ္ သိၾကပါတယ္။ Repo ဆုိတာ GitHub က Project Repository မ်ဳိးကုိ ေခၚတာ မဟုတ္ပါဘူး။ Google က Git အေပၚမွာ အေျခခံၿပီး develope ထားတဲ့ Tool ရဲ႕အမည္ျဖစ္ပါတယ္။ ဘာလု႔ိ Android အတြက္ ဖန္းတီထားတာလဲဆုိေတာ့ Custom Android OS တခု Sources ကေန Build ခ်င္တယ္ပဲ ဆုိပါစု႔ိ Android OS တနည္းအားျဖင့္ AOSP မွာ Android OS ႀကီး တခုလုံးအတြက္လုိအပ္တဲ့ Repositories ေတြက အမ်ားႃကီး႐ွိပါတယ္။ အဲဒါေတြကုိ တခုခ်င္း git clone လုပ္ေနရင္ အဆင္ေျပမွာ မဟုတ္ပါဘူး။ အဲဒီအတြက္ Repo က Custom Android OS build မယ္သူေတြကုိ ကူညီႏုိင္ပါတယ္။
git-repo အေၾကာင္းကုိ ဒီမွာဝင္ဖက္ႏုိင္ပါတယ္…
https://code.google.com/archive/p/git-repo/
ၿပီးသြားရင္ git-repo command ေတြကုိ ဒီမွာ ေလ့လာၾကည့္ပါ… https://source.android.com/source/using-repo
သူက Android ROM Development မွာ အရမ္းအသုံးဝင္ပါတယ္။ [ git-repo - Multiple Repository Tool ] လုိ႔ေခၚပါတယ္။ သူ႔ရဲ႕ အသုံးဝင္ပုံက GitHub မွွွာ Repo တခုေဆာက္ၿပီး အဲဒီထဲမွာ XML file ေလးတခုေဆာက္ၿပီး ကုိယ္လုိခ်င္တဲ့ ကုိယ္ remote လုပ္ခ်င္တဲ့ repo ေတြကုိအမ်ာႀကီးကုိ link ခ်ိတ္ေပးထာၿပီး repo sync ဆုိတဲ့ command ကုိသုံးၿပီး၊ ကုိယ့္ရဲ႕ Local machine ထဲကုိ တေနရာတည္းမွာပဲ Repository ေတြအမ်ာႀကီးကုိ download ဆြဲလုိ႔ရပါတယ္၊ သေဘာက Custom ROM တခု build ဖုိ႔ လုိအပ္တဲ့ Android SourceCode Repository ေတြက အမ်ားႀကီးပါ အဲဒါကုိ တခုခ်င္းလုိက္ git clone မေနပဲ XML file ေလးကေန Repository အမ်ားႀကီးစုၿပီး Local ထဲကုိ download ဆြဲလုိက္တဲ့ သေဘာပါပဲ။ တနည္းအားျဖင့္ ဒါဟာ Android တခုတည္းအတြက္္္္တင္ မဟုတ္ပါဘူူူး သြယ္ဝုိက္ႃပီးသုံးႏုိင္ပါတယ္။ တကယ္လုုုု႔ိ ကုုိယ္က Git Repository အမ်ားႀကီး download ဆြဲဲဲဲဲခ်င္တဲ့အခါ ဒီနည္းက တကယ္မုိက္ပါတယ္။
အဲဒီအတြက္ XML file တခုေရးနည္းက မခက္ပါဘူး တကယ္လြယ္ပါတယ္။ ကြၽန္ေတာ္ရဲ႕ “aosp-android” repository မွာ ေလ့လာႏုိင္ပါတယ္။
https://github.com/zawzaww/aosp-android/blob/android-8.1.0/default.xml</p>

<h1 id="setup-your-environment">Setup Your Environment</h1>
<h2 id="step-1-installation-openjdk">Step 1: Installation OpenJDK</h2>
<ul>
  <li>ပထမဦးဆုံး OpenJDK ကုိ ကုိယ့္ရဲ့ Computer မွာ Install ထားဖုိ့ လုိပါတယ္၊ Terminal ကုိဖြင့္ၿပီး ေအာက္ပါ command ေလးေတြ ႐ုိက္ေပးပါ။</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install </span>openjdk-8-jdk
<span class="nb">sudo </span>apt-get <span class="nb">install </span>openjdk-8-jre
</code></pre></div></div>
<p>OpenJDK Install တဲ့ ေနရာမွာ နည္းနည္းေျပာျပပါမယ္၊ ကုိယ့္ Build မယ့္ Android Version ေပၚ မူတည္ၿပီး Install ရမယ့္ OpenJDK version ေတြ ကြဲသြားပါလိမ့္မယ္။</p>
<ul>
  <li>Android Nougat ကေန Android Oreo ဆုိ ( OpenJDK 8 ကုိ Install ေပးပါ )</li>
  <li>Android Lollipop ကေန Android Marshmallow ဆုိ ( OpenJDK 7 ကုိ Install ေပးပါ )</li>
  <li>Android Gingerbread ကေန Android KitKat ဆုိ ( OpenJDK 6 ကုိ Install ေပးပါ )
( သူ႔ရဲ႕ ေအာက္က Android version အတြက္ေတာ့ မေျပာေတာ့ပါဘူး ဘယ္သူမွလည္း Build မွာ မဟုတ္ေတာ့ပါဘူး )</li>
</ul>

<h2 id="step-2-installation-python">Step 2: Installation Python</h2>
<ul>
  <li>ေနာက္တဆင့္ကေတာ့ Python install ေပးဖု႔ိ လုိပါတယ္၊ Python 2.7 ေလာက္ဆုိ အဆင္ေျပပါၿပီ။ ( Python 3+ ဆုိ git-repo အတြက္ သိပ္အဆင္မေျပပါဘူး အဲဒါေၾကာင့္ 2.7 ပဲ Install ေပးပါ ) ဒီေနရာမွာ Ubuntu သုံးေနတာဆုိရင္ တခါတည္း Install လုပ္ၿပီးသားဆုိရင္ မလုိအပ္ပါဘူး။
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>add-apt-repository ppa:fkrull/deadsnakes
<span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install </span>python2.7
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="step-3-installation-build-tools">Step 3: Installation Build-Tools</h2>
<ul>
  <li>လုိအပ္တဲ့ build tools ေတြ install ဖုိ႔ ေအာက္ပါ command ေလးကုိ terminal မွာ ႐ုိက္ေပးပါ။
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>git-core gnupg flex bison gperf build-essential zip curl zlib1g-dev gcc-multilib g++-multilib libc6-dev-i386 lib32ncurses5-dev x11proto-core-dev libx11-dev lib32z-dev ccache libgl1-mesa-dev libxml2-utils xsltproc unzip
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="step-4-installation-git-and-repo-git-repo">Step 4: Installation Git and Repo (git-repo)</h2>
<ul>
  <li>အရင္ဆုံး Git install မလုပ္ရေသးဘူးဆုိရင္ လုပ္ေပးပါ။ ( Install ထားၿပီးသားဆုိရင္ ဒီအဆင့္ကုိ ထပ္လုပ္စရာမလုိပါဘူး )
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>git-core
</code></pre></div>    </div>
  </li>
  <li>Setting your username and email in Git</li>
  <li>Format:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> user.name <span class="s2">"Your Name"</span>
git config <span class="nt">--global</span> user.email <span class="s2">"you@example.com"</span>
</code></pre></div>    </div>
  </li>
  <li>Example:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> user.name <span class="s2">"zawzaw"</span>
git config <span class="nt">--global</span> user.email <span class="s2">"zawzaw@gmail.com"</span>
</code></pre></div>    </div>
  </li>
  <li>Google ရဲ႕ git-repo ကုိ install လုပ္ေပးရပါမယ္။ ( အသုံးဝင္ပုံကုိ အေပၚမွာ ႐ွင္းျပထားၿပီးျဖစ္လု႔ိ ထပ္မေျပာေတာ့ပါဘူး )
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> ~/bin
<span class="nv">PATH</span><span class="o">=</span>~/bin:<span class="nv">$PATH</span>
curl https://storage.googleapis.com/git-repo-downloads/repo <span class="o">&gt;</span> ~/bin/repo
<span class="nb">chmod </span>a+x ~/bin/repo
</code></pre></div>    </div>
    <p>အဲဒါေတြ အကုန္ၿပီးသြားၿပီ ဆုိရင္ေတာ့ ROM တခု build ဖုိ႔အတြက္ Setup Environment ပုိင္းက ျပည့္စုံသြားပါၿပီ။</p>
  </li>
</ul>

<h2 id="downloading-the-sources">Downloading the Sources</h2>
<p>Sources ေတြ download တဲ့ ေနရာမ်ာ လုိအပ္တဲ့အရာေတြကုိ ေျပာျပစရာ႐ွိပါတယ္။ ( CustomROM တခု build ဖု႔ိအတြက္ အဲဒါေတြက မ႐ွိမျဖစ္ လုိအပ္တာေတြပါ )</p>
<ul>
  <li>Android OS ႀကီးတခုလုံး အတြက္ လုိအပ္ Repository ေတြပါတဲ့ Android Plaform Manifest ( ဘာေတြပါလဲဆုိေတာ့ Android OS အတြက္ လုိအပ္တဲ့ framework ေတြ၊ lib ေတြ၊ system apps package ေတြ၊ device tree ေတြ kernel tree ေတြ၊ build tools ေတြ toochains GCC compiler ေတြ အကုန္ပါပါတယ္ filesize က 20GB နဲ႔ အထက္မွာ႐ွိပါတယ္ )</li>
  <li>Google ရဲ႕ Device ေတြ ျဖစ္တဲ့ Nexus နဲ႔ Pixel မဟုတ္ရင္ တျခား Android Device ေတြအတြက္ဆုိရင္ Device tree နဲ႔ Kernel source ေတြ ႐ွာထားဖုိ႔ လုိပါတယ္၊ Google ရဲ႕ devices ေတြအတြက္က AOSP repo ထဲမွာ device tree ေတြက တခါတည္းပါၿပီးသားပါ။ ( ခုမွ စလုပ္တဲ့သူအေနနဲ႔ အေကာင္းဆုံး အၾကံေပးခ်င္တာေတာ့ အႀကီးဆုံး ROM Community ႀကီး ျဖစ္တဲ့ LineageOS ေအာက္မွာ သြား႐ွာတာ အေကာင္းဆုံးပါ https://github.com/LineageOS ကုိယ္တုိင္ ထုတ္လုိ႔ရပါတယ္ ကုိယ့္ဖုန္းရဲ႕ hardware arch ေပၚမူတည္ၿပီး Device tree ထုတ္နည္းကုိ ေနာက္မွသက္သက္ေရးေပးပါမယ္ )</li>
  <li>
    <p>ၿပီးရင္ Android device ေတြ အတြက္ proprietary vendor file ေတြ ပါလုိအပ္ပါတယ္။ ( တနည္းအားျဖင္ အဲဒီေကာင္က Non-opensource file ေတြပါ၊ ကုိယ့္ဖုန္း ရဲ႕ firmware ထဲကေန ျပန္ထုတ္ရတာပါ Example for Nexus 5X…https://github.com/PureNexusProject/proprietary_vendor_lge ဥပမာအေနနဲ႔ အဲဒီ Repo ထဲမွာ ဝင္ၾကည့္ပါ )</p>
  </li>
  <li>ပထမဆုံး လုပ္ရမွာက Sources ေတြ download ဖုိ႔ Directory တခုေဆာက္ပါမယ္
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>AOSP-ROM-Project
</code></pre></div>    </div>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>AOSP-ROM-Project
</code></pre></div>    </div>
  </li>
  <li>Android SourceCode ေတြ download လုပ္ပါေတာ့မယ္။ ( ဒီေနရာမွာ ေျပာစ႐ွိပါတယ္ Google Git က AOSP Repo ကေန download လုပ္ရင္ Size အရမ္းမ်ားပါတယ္၊ အဲဒါေၾကာင့္ ကြၽန္ေတာ့ GitHub မွာေဆာက္ထားတဲ့ Personal AOSP Repo ကေန down ရင္ ပုိသက္သာပါလိမ့္မယ္၊ ဘာလုိ႔လဲဆုိေတာ့ ကြၽန္ေတာ့္ရဲ႕ GitHub AOSP Repo ထဲမွာ မလုိအပ္တဲ့ project path ေတြ ေလ်ာ့ထားတာပါ၊ သေဘာပါပဲ ႏွစ္သက္တဲ့ Repo ကေန download ဆြဲပါ။ )</li>
  <li>ပထမဦးဆုံး AOSP SourceCode ေတြ ႐ွိတဲ့ေနရာကုိ သိရပါမယ္…https://android.googlesource.com/platform/manifest</li>
  <li>-b ေနာက္က ကုိယ့္ Build မယ့္ branch ပါ။ ( တနည္းအားျဖင့္ ကုိယ္ Build ခ်င္တဲ့ Android version ပါ r (r_23) ဆုိတာ Release ကုိ ဆုိလုိတာပါ )</li>
  <li>ဒီေနရာမွာ သုံးတဲ့ command ေတြက git-repo command ေတြပါ https://source.android.com/source/using-repo သုံးမယ့္ Repository ကလည္း git-repo အတြက္ ရည္ရြယ္ၿပီး ေရးထားတဲ့ Repository တခုျဖစ္ပါတယ္ xml နဲ႔ေရးပါတယ္၊ ေရးနည္းက ႐ုိး႐ွင္းပါယ္ ဒီမွာေလ့လာၾကည့္ပါ https://github.com/zawzaww/aosp-android/blob/android-8.1.0/default.xml
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>repo init <span class="nt">-u</span> https://android.googlesource.com/platform/manifest.git <span class="nt">-b</span> android-8.1.0_r2
</code></pre></div>    </div>
    <p>(OR)</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>repo init <span class="nt">-u</span> https://github.com/zawzaww/aosp-android.git <span class="nt">-b</span> android-8.1.0
</code></pre></div>    </div>
  </li>
  <li>Sources ေတြ download ဖုိ႔ ေအာက္က command ေလး ႐ုိက္ေပးပါ။
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>repo <span class="nb">sync</span>
</code></pre></div>    </div>
    <p>အဲဒီေနာက္မွာေတာ့ Sources ေတြ Downloading လုပ္ေနတဲ့ အပုိင္းပါ၊
SourceCode ေတြ Download တဲ့ process ကေတာ့ Internet connection ေပၚမွာ မူတည္ၿပီးၾကာပါလိမ့္မယ္။</p>
  </li>
</ul>

<h2 id="building-custom-android-os-from-sources">Building Custom Android OS from Sources</h2>
<ul>
  <li>အရင္ဆုံး Source ကေန Compilation မလုပ္ခင္ ၾကဳိတင္ျပင္ဆင္ရမယ့္ အရာေတြကုိ ေျပာျပေပးပါမယ္။</li>
  <li>ပထမဆုံး လုိအပ္တာက ကုိယ့္ဖုန္းရဲ႕ Device tree ပါ</li>
  <li>Location က ဘယ္မွာ သြားထည့္ရမလဲဆုိရင္ Download ထားတဲ့ Source dir ေအာက္က /device ေအာက္မွာ သြားထည့္ေပးရမွာပါ။</li>
  <li>Format:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/device/manufacturer/device_name
</code></pre></div>    </div>
  </li>
  <li>Example for Nexus 5X:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/device/lge/bullhead
</code></pre></div>    </div>
  </li>
</ul>

<p><img src="https://s20.postimg.cc/4hn5zcmx9/Screenshot_from_2017-11-03_21-54-22.png" /></p>

<ul>
  <li>ROM build တဲ့ေနရာမွာ Kernel ပုိင္းက ႏွစ္မ်ဳိးကြဲပါမယ္၊ Kernel source ကေန build တာရယ္ အဆင္သင့္ build ထားၿပီးသား prebuilt kernel ကေန ROM ထဲထည့္ၿပီး Build တာဆုိၿပီး ႐ွိပါတယ္၊ kernel source ကေန build တာပဲ အၾကံေပးတယ္။</li>
  <li>ၿပီးတဲ့ေနာက္ Kernel source ကေန build မယ္ဆုိရင္ Device tree ထဲက ျပင္ဆင္စရာ႐ွိပါတယ္၊ Nexus 5X အေနနဲ႔ ေျပာပါမယ္ /device/lge/bullhead/BoardConfig.mk ကုိ TextEditor တခုနဲ႔ ဖြင့္ၿပီး ေအာက္က code ေလးေတြ ထပ္ျဖည့္လုိက္ပါ။
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Inline PureZ Kernel Build</span>
KERNEL_TOOLCHAIN :<span class="o">=</span> <span class="si">$(</span>ANDROID_BUILD_TOP<span class="si">)</span>/prebuilts/gcc/<span class="si">$(</span>HOST_OS<span class="si">)</span><span class="nt">-x86</span>/aarch64/aarch64-linux-android-4.9/bin
KERNEL_TOOLCHAIN_PREFIX :<span class="o">=</span> aarch64-linux-android-
TARGET_KERNEL_SOURCE :<span class="o">=</span> kernel/lge/bullhead
TARGET_KERNEL_CONFIG :<span class="o">=</span> purez_defconfig
BOARD_KERNEL_IMAGE_NAME :<span class="o">=</span> Image.gz-dtb
</code></pre></div>    </div>
    <p>Explanation:</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ဒီအဆင့္က ကြၽန္ေတာ္ ပထမဆုံး ေရးထားခဲ့တဲ့ Building-Kernel ဆုိတဲ့ Tutorial ကုိ ဖက္ၿပီးမွ အဆင္ေျပပါလိမ့္မယ္။
Line 1 - Kernel ကုိ Compile မယ့္ Toolchain location ကုိ ေပးတာပါ
Line 2 - ကုိယ္သုံးမယ့္ Toolchain ရဲ႕ Kernel toolchain prefix လုိ႔ေခၚပါတယ္ <span class="o">(</span> သိပ္နားမလည္ဘူးဆုိရင္ Kernel Compilation Tutorial မွာ ေလ့လာၾကည့္ပါ <span class="o">)</span>
Line 3 - ဒါကေတာ့ ကုိယ္ Build မယ့္ kernel <span class="nb">source </span>location ပါ
Line 4 - Kernel build ဖုိ႔အတြက္ kernel configuration လုပ္ေပးရပါတယ္၊ အဲဒီအေၾကာင္းက Kernel config အပုိင္းပါ
Line 5 - ကုိယ့္ဖုန္းအတြက္ output ထြက္မယ့္ Kernel image name ကုိ အတိအက်ေရးေပးရပါမယ္
</code></pre></div>    </div>
  </li>
</ul>

<p><img src="https://s20.postimg.cc/thf0h4mjh/Screenshot_from_2017-11-03_21-58-30.png" /></p>

<ul>
  <li>ေနာက္တဆင့္က Kernel source အပုိင္းပါ သြားထည့္ေပးရမယ့္ Location က Source dir ေအာက္က /kernel ေအာက္မွာ သြားထည့္ေပးရမွာပါ။</li>
  <li>Format:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/kernel/manufacturer/device_name
</code></pre></div>    </div>
  </li>
  <li>Example: for Nexus 5X ( ဒီ Location က Device tree ထဲမွာ Kernel source path လမ္းေၾကာင္း ျပန္ေပးရမွာပါ )
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/kernel/lge/bullhead
</code></pre></div>    </div>
  </li>
</ul>

<p><img src="https://s20.postimg.cc/852x5n81p/Screenshot_from_2017-11-03_21-54-57.png" /></p>

<ul>
  <li>vendor အပုိင္းပါ အဲဒီေကာင္က Source dir ေအာက္က /vendor ေအာက္မွာ သြားထည့္ေပးရမွာပါ။</li>
  <li>Format:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/vendor/manufacturer/device_name
</code></pre></div>    </div>
  </li>
  <li>Example: for Nexus 5X
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/vendor/lge/bullhead
</code></pre></div>    </div>
  </li>
</ul>

<p><img src="https://s20.postimg.cc/yesl2cjel/Screenshot_from_2017-11-03_21-56-37.png" /></p>

<p>ဒါေတြျပည့္စုံသြားရင္ေတာ့ AOSP ROM တခု Build ဖုိ႔ အဆင္သင့္ ျဖစ္ပါၿပီ။</p>

<ul>
  <li>ဒါကေတာ့ ေနာက္ဆုံးအဆင့္ေရာက္ပါၿပီ၊ Download ထားတဲ့ Source Dir ထဲ ဝင္လုိက္ၿပီး Terminal ကုိ ဖြင့္လုိက္ပါ၊ ေအာက္က command ေလး ႐ုိက္ေပးပါ။
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span> build/envsetup.sh
</code></pre></div>    </div>
    <p>ၿပီးသြာရင္ ကုိယ္ build မယ့္ device ကုိ lunch လုပ္ေပးရပါမယ္။</p>
  </li>
  <li>Format
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lunch &lt;device_name&gt; <span class="o">(</span>OR<span class="o">)</span> lunch
</code></pre></div>    </div>
    <p>Example: for Nexus 5X</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lunch aosp_bullhead-userdebug
</code></pre></div>    </div>
  </li>
</ul>

<p><img src="https://s20.postimg.cc/htkymict9/Screenshot_from_2017-11-03_21-59-06.png" /></p>

<ul>
  <li>အေကာင္းဆုံးက lunch လုိ႔ ႐ုိက္လုိက္ရင္ ကုိယ္ build မယ့္ device name ေတြ က်လာၿပီး build ခ်င္တဲ့ device no. ကုိ ဆက္႐ုိက္ေပးပါ။
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lunch
</code></pre></div>    </div>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Enter 1 or 2 or 3 etc...
</code></pre></div>    </div>
  </li>
  <li>ၿပီးရင္ Build ဖုိ႔အတြက္ ေအာက္က command ေလး ႐ုိက္ေပးပါ။
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make <span class="nt">-j4</span>
</code></pre></div>    </div>
    <p>(OR)</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make <span class="nt">-j</span><span class="si">$(</span><span class="nb">nproc</span> <span class="nt">--all</span><span class="si">)</span>
</code></pre></div>    </div>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Output - /out/target/product/bullhead/ ေအာက္မွာ ထြက္သြားပါလိမ့္မယ္
</code></pre></div>    </div>
    <p>ၿပီးရင္ေတာ့ Compilation process စတင္ပါမယ္၊ process time ကေတာ့ ကုိယ့္ Computer ရဲ႕ CPU core ေပၚ မူတည္ၿပီးၾကာပါလိမ့္မယ္။</p>
  </li>
</ul>

<p>Regards,</p>

<p>ZawZaw <a href="https://forum.xda-developers.com/member.php?u=7581611">@XDA-Developers</a></p>

  </div>

  <div class="disqus">
    <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://https-zawzaww-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
  </div>

  
  
</article>


      <footer class="site-footer">
        <!-- SVG icons from https://iconmonstr.com -->

        <!-- Github icon -->
       <p align="center">
        <span class="my-span-icon">
          <a href="" aria-label="'s GitHub" title="'s GitHub">
            <svg class="my-svg-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
          </a>
        </span>
        <!-- Twitter icon -->
        <span class="my-span-icon">
          <a href="https://twitter.com/zawzawwme" aria-label="'s Twitter" title="'s Twitter">
            <svg class="my-svg-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"/></svg>
          </a>
        </span>
        <!-- RSS icon -->
        
        <!-- Contact icon -->
        
        
          <span class="my-span-icon">
            <a href="/contact" aria-label="Contact" title="Contact ">
              <svg class="my-svg-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 .02c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.99 6.98l-6.99 5.666-6.991-5.666h13.981zm.01 10h-14v-8.505l7 5.673 7-5.672v8.504z"/></svg>
            </a>
          </span>
        
       </p>

       <p align="center"><small>Copyright (C) 2018-2019, Zaw Zaw.</small></p>

       <p align="center"><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> &mdash; Powered by <a href="https://jekyllrb.com">Jekyll.</a></small></p>

      </footer>
    </section>

    
  </body>
  
</html>
